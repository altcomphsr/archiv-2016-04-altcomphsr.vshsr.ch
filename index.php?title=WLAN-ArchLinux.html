<!DOCTYPE html>
<html lang="de" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>WLAN-ArchLinux – alt.comp.hsr</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"WLAN-ArchLinux","wgTitle":"WLAN-ArchLinux","wgCurRevisionId":1131,"wgRevisionId":1131,"wgArticleId":236,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"de","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t.",".\t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],"wgMonthNamesShort":["","Jan.","Feb.","Mär.","Apr.","Mai","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Dez."],"wgRelevantPageName":"WLAN-ArchLinux","wgRelevantArticleId":236,"wgIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"de"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=de&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.interface%257Cskins.monobook.styles&amp;only=styles&amp;skin=monobook.css" />
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=de&amp;modules=site&amp;only=styles&amp;skin=monobook.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="load.php%3Fdebug=false&amp;lang=de&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.26.0" />
<link rel="shortcut icon" href="http://altcomphsr.vshsr.ch/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="alt.comp.hsr (de)" />
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="Atom-Feed für „alt.comp.hsr“" href="./index.php%3Ftitle=Spezial:Letzte_%25C3%2584nderungen&amp;feed=atom" />
</head>
<body class="mediawiki ltr sitedir-ltr capitalize-all-nouns ns-0 ns-subject page-WLAN-ArchLinux skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="de">WLAN-ArchLinux</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">Aus alt.comp.hsr</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Wechseln zu: <a href="index.php%3Ftitle=WLAN-ArchLinux.html#column-one">Navigation</a>, <a href="index.php%3Ftitle=WLAN-ArchLinux.html#searchInput">Suche</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="de" dir="ltr" class="mw-content-ltr"><p>Diese Seite behandelt die Verwendung des geschützten WLAN HSR-Secure an der HSR unter ArchLinux. Man authentifiziert sich mit dem HSR-Benutzername und dem HSR-Passwort an einem Radius-Server.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Inhaltsverzeichnis</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=WLAN-ArchLinux.html#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=WLAN-ArchLinux.html#Konfiguration_HSR-Secure"><span class="tocnumber">2</span> <span class="toctext">Konfiguration HSR-Secure</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="index.php%3Ftitle=WLAN-ArchLinux.html#Konfigurationsdatei_f.C3.BCr_netctl"><span class="tocnumber">2.1</span> <span class="toctext">Konfigurationsdatei für netctl</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=WLAN-ArchLinux.html#Security"><span class="tocnumber">2.2</span> <span class="toctext">Security</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="index.php%3Ftitle=WLAN-ArchLinux.html#Das_HSR-Secure_Netzwerk_benutzen"><span class="tocnumber">3</span> <span class="toctext">Das HSR-Secure Netzwerk benutzen</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="index.php%3Ftitle=WLAN-ArchLinux.html#WLAN_mit_wap_spplicant"><span class="tocnumber">4</span> <span class="toctext">WLAN mit wap_spplicant</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Die Netzwerke verwaltet man am besten mit netcfg. Daher wird das Paket installiert:
</p>
<pre> $ sudo pacman -S netctl
</pre>
<h2><span class="mw-headline" id="Konfiguration_HSR-Secure">Konfiguration HSR-Secure</span></h2>
<h3><span class="mw-headline" id="Konfigurationsdatei_f.C3.BCr_netctl">Konfigurationsdatei für netctl</span></h3>
<p>Man legt eine Konfigurationsdatei für netctl an:
</p>
<pre> $ sudo vi /etc/netctl/wlan0-hsr_secure
</pre>
<p>Mit folgendem Inhalt:
</p>
<pre> #
 # /etc/netctl/wlp2s0-HSR-Secure
 #
 
 Description='WLAN HSR-Secure'
 Interface=wlp2s0
 Connection=wireless
 Security=wpa-configsection
 IP=dhcp
 ESSID=HSR-Secure
 WPAConfigSection=(
   'ssid="HSR-Secure"'
   'scan_ssid=1'
   'key_mgmt=WPA-EAP'
   'eap=PEAP'
   'identity="eduss"'
   'password="_dein_passwort_"'
   'phase2="auth=MSCHAPV2"'
 )
</pre>
<h3><span class="mw-headline" id="Security">Security</span></h3>
<p>Da das Passwort in Klartext in der Datei /etc/network.d/wlan0-hsr_secure.conf steckt, passt man dort die Berechtigung so an, dass es nur noch von root gelesen oder beschrieben werden darf:
</p>
<pre>$ sudo chmod 600 /etc/netctl/wlan0-HSR-Secure
</pre>
<p>Danach sehen die Berechtigungen so aus:
</p>
<pre>$ ls -l /etc/network.d/wlan0-hsr_secure*
-rw-r--r-- 1 root root 418  6. Sep 13:04 /etc/netctl/wlan0-HSR-Secure
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Das_HSR-Secure_Netzwerk_benutzen">Das HSR-Secure Netzwerk benutzen</span></h2>
<p>WLAN starten
</p>
<pre> $ sudo netctl start HSR-Secure
</pre>
<p>WLAN stoppen
</p>
<pre> $ sudo netctl stop HSR-Secure
</pre>
<p>WLAN automatisch verbinden (wlp2s0 evtl. anpassen)
</p>
<pre> $ sudo systemctl enable netctl-auto@wlp2s0
 $ sudo systemctl start netctl-auto@wlp2s0
</pre>
<h2><span class="mw-headline" id="WLAN_mit_wap_spplicant">WLAN mit wap_spplicant</span></h2>
<p>Man legt eine Konfigurationsdatei für den wpa_supplicant an:
</p>
<pre>$ sudo vi /etc/netctl/wlan0-hsr_secure.conf
</pre>
<p>Mit folgendem Inhalt:
</p>
<pre>########################################################################
#
# /etc/netctl/wlan0-hsr_secure.conf
# Konfigurationsdatei WLAN HSR-Secure für netcfg via wpa_supplicant
#
########################################################################

ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel
network={
  ssid="HSR-Secure"
  scan_ssid=1
  key_mgmt=WPA-EAP
  eap=PEAP
  identity="HSR-Benutzername"
  password="HSR-Passwort"
  phase2="auth=MSCHAPV2"
}
</pre>
<p>Man kann die wpa_supplicant Konfiguration auch ohne netcfg verwenden:
</p>
<pre>$ sudo wpa_supplicant -i wlan0 -c /etc/netctl/wlan0-hsr_secure.conf
wlan0: Trying to associate with 6c:50:4d:ab:9b:4c (SSID='HSR-Secure' freq=5240 MHz)
wlan0: Associated with 6c:50:4d:ab:9b:4c
wlan0: CTRL-EVENT-EAP-STARTED EAP authentication started
wlan0: CTRL-EVENT-EAP-PROPOSED-METHOD vendor=0 method=25
wlan0: CTRL-EVENT-EAP-METHOD EAP vendor 0 method 25 (PEAP) selected
wlan0: CTRL-EVENT-EAP-PEER-CERT depth=1 subject='/C=BM/O=QuoVadis Limited/OU=www.quovadisglobal.com/CN=QuoVadis Global SSL ICA'
wlan0: CTRL-EVENT-EAP-PEER-CERT depth=1 subject='/C=BM/O=QuoVadis Limited/OU=www.quovadisglobal.com/CN=QuoVadis Global SSL ICA'
wlan0: CTRL-EVENT-EAP-PEER-CERT depth=0 subject='/C=CH/ST=St. Gallen/L=Rapperswil/O=Hochschule Rapperswil/OU=IT-Systems/CN=radius.hsr.ch'
EAP-MSCHAPV2: Authentication succeeded
EAP-TLV: TLV Result - Success - EAP-TLV/Phase2 Completed
wlan0: CTRL-EVENT-EAP-SUCCESS EAP authentication completed successfully
wlan0: WPA: Key negotiation completed with 6c:50:4d:ab:9b:4c [PTK=CCMP GTK=CCMP]
wlan0: CTRL-EVENT-CONNECTED - Connection to 6c:50:4d:ab:9b:4c completed (auth) [id=0 id_str=]
</pre>
<p>Mit -B kann man wpa_supplicant auch noch in den Hintergrund versetzen. Dann bekommt man die Meldungen nicht zu sehen:
</p>
<pre>$ sudo wpa_supplicant -i wlan0 -c /etc/netctl/wlan0-hsr_secure.conf  -B
</pre>
<p>Mann muss sich jedoch selber eine IP-Konfigurations mittels DHCP besorgen:
</p>
<pre>$ sudo dhclient -v wlan0
Internet Systems Consortium DHCP Client 4.2.4-P1
Copyright 2004-2012 Internet Systems Consortium.
All rights reserved.
For info, please visit <a rel="nofollow" class="external free" href="https://www.isc.org/software/dhcp/">https://www.isc.org/software/dhcp/</a>

Listening on LPF/wlan0/58:13:37:23:05:42
Sending on   LPF/wlan0/58:13:37:23:05:42
Sending on   Socket/fallback
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 1.2.3.4
bound to 152.96.233.82 -- renewal in 565 seconds.
</pre>
<p>Man bekommt eine IP-Adresse:
</p>
<pre>$ ip addr list wlan0
3: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000
    link/ether 58:13:37:23:05:42 brd ff:ff:ff:ff:ff:ff
    inet 152.96.233.82/21 brd 152.96.239.255 scope global wlan0
    inet6 fe80::5a94:6bff:fee9:fd78/64 scope link 
      valid_lft forever preferred_lft forever
</pre>
<p>Eine Default-Route:
</p>
<pre>$ ip route 
default via 152.96.232.1 dev wlan0 
152.96.232.0/21 dev wlan0  proto kernel  scope link  src 152.96.233.82 
</pre>
<p>Sowie eine Domain und zwei DNS-Server:
</p>
<pre>$ cat /etc/resolv.conf 
search hsr.ch
nameserver 152.96.20.10
nameserver 152.96.21.10
</pre>
<p>Viel Spass dabei.
</p>
<!-- 
NewPP limit report
Cached time: 20160404135806
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.006 seconds
Real time usage: 0.007 seconds
Preprocessor visited node count: 23/1000000
Preprocessor generated node count: 28/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key vshsrch_altcomphsr:pcache:idhash:236-0!*!*!!de!*!* and timestamp 20160404135806 and revision id 1131
 -->
</div><div class="printfooter">
Von „<a dir="ltr" href="index.php%3Ftitle=WLAN-ArchLinux&amp;oldid=1131.html">http://altcomphsr.vshsr.ch/index.php?title=WLAN-ArchLinux&amp;oldid=1131</a>“</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigationsmenü</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Ansichten</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=WLAN-ArchLinux.html" title="Seiteninhalt anzeigen [c]" accesskey="c">Seite</a></li>
				<li id="ca-talk" class="new"><a href="http://altcomphsr.vshsr.ch/index.php?title=Diskussion:WLAN-ArchLinux&amp;action=edit&amp;redlink=1" rel="discussion" title="Diskussion zum Seiteninhalt [t]" accesskey="t">Diskussion</a></li>
				<li id="ca-viewsource"><a href="index.php%3Ftitle=WLAN-ArchLinux&amp;action=edit.html" title="Diese Seite ist geschützt. Ihr Quelltext kann dennoch angesehen und kopiert werden. [e]" accesskey="e">Quelltext anzeigen</a></li>
				<li id="ca-history"><a href="index.php%3Ftitle=WLAN-ArchLinux&amp;action=history.html" title="Frühere Versionen dieser Seite [h]" accesskey="h">Versionsgeschichte</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Meine Werkzeuge</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="./index.php%3Ftitle=Benutzer:152.96.237.233.html" class="new" title="Benutzerseite der IP-Adresse von der aus du Änderungen durchführst [.]" accesskey=".">152.96.237.233</a></li>
													<li id="pt-anontalk"><a href="./index.php%3Ftitle=Benutzer_Diskussion:152.96.237.233.html" class="new" title="Diskussion über Änderungen von dieser IP-Adresse [n]" accesskey="n">Diskussionsseite dieser IP</a></li>
													<li id="pt-createaccount"><a href="./index.php%3Ftitle=Spezial:Anmelden&amp;returnto=WLAN-ArchLinux&amp;type=signup.html" title="Wir ermutigen dich dazu, ein Benutzerkonto zu erstellen und dich anzumelden. Es ist jedoch nicht zwingend erforderlich.">Benutzerkonto erstellen</a></li>
													<li id="pt-login"><a href="./index.php%3Ftitle=Spezial:Anmelden&amp;returnto=WLAN-ArchLinux.html" title="Sich anzumelden wird gerne gesehen, ist jedoch nicht zwingend erforderlich. [o]" accesskey="o">Anmelden</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Hauptseite"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="index.html" title="Hauptseite besuchen [z]" accesskey="z">Hauptseite</a></li>
											<li id="n-currentevents"><a href="./index.php%3Ftitle=alt.comp.hsr:Aktuelle_Ereignisse.html" title="Hintergrundinformationen zu aktuellen Ereignissen">Aktuelle Ereignisse</a></li>
											<li id="n-Statuten"><a href="./index.php%3Ftitle=Medium:Statuten.pdf.html">Statuten</a></li>
											<li id="n-recentchanges"><a href="./index.php%3Ftitle=Spezial:Letzte_%25C3%2584nderungen.html" title="Liste der letzten Änderungen in diesem Wiki [r]" accesskey="r">Letzte Änderungen</a></li>
											<li id="n-randompage"><a href="./index.php%3Ftitle=Spezial:Zuf%25C3%25A4llige_Seite.html" title="Zufällige Seite aufrufen [x]" accesskey="x">Zufällige Seite</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="Hilfeseite anzeigen">Hilfe</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Suche</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://altcomphsr.vshsr.ch/index.php" id="searchform">
					<input type='hidden' name="title" value="Spezial:Suche"/>
					<input type="search" name="search" placeholder="Suchen" title="alt.comp.hsr durchsuchen [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Seite" title="Gehe direkt zu der Seite, die exakt dem eingegebenen Namen entspricht." id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Suchen" title="Suche nach Seiten, die diesen Text enthalten" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Werkzeuge</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="./index.php%3Ftitle=Spezial:Linkliste%252FWLAN-ArchLinux.html" title="Liste aller Seiten, die hierher verlinken [j]" accesskey="j">Links auf diese Seite</a></li>
											<li id="t-recentchangeslinked"><a href="http://altcomphsr.vshsr.ch/index.php?title=Spezial:%C3%84nderungen_an_verlinkten_Seiten/WLAN-ArchLinux" title="Letzte Änderungen an Seiten, die von hier verlinkt sind [k]" accesskey="k">Änderungen an verlinkten Seiten</a></li>
											<li id="t-specialpages"><a href="./index.php%3Ftitle=Spezial:Spezialseiten.html" title="Liste aller Spezialseiten [q]" accesskey="q">Spezialseiten</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=WLAN-ArchLinux&amp;printable=yes.html" rel="alternate" title="Druckansicht dieser Seite [p]" accesskey="p">Druckversion</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=WLAN-ArchLinux&amp;oldid=1131.html" title="Dauerhafter Link zu dieser Seitenversion">Permanenter Link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=WLAN-ArchLinux&amp;action=info.html" title="Weitere Informationen über diese Seite">Seiten­informationen</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="http://www.gnu.org/copyleft/fdl.html"><img src="resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Diese Seite wurde zuletzt am 23. Februar 2015 um 10:15 Uhr geändert.</li>
									<li id="copyright">Der Inhalt ist verfügbar unter der Lizenz <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>, sofern nicht anders angegeben.</li>
									<li id="privacy"><a href="http://altcomphsr.vshsr.ch/index.php?title=alt.comp.hsr:Datenschutz" title="alt.comp.hsr:Datenschutz">Datenschutz</a></li>
									<li id="about"><a href="./index.php%3Ftitle=alt.comp.hsr:%25C3%259Cber_alt.comp.hsr.html" title="alt.comp.hsr:Über alt.comp.hsr">Über alt.comp.hsr</a></li>
									<li id="disclaimer"><a href="http://altcomphsr.vshsr.ch/index.php?title=alt.comp.hsr:Impressum" title="alt.comp.hsr:Impressum">Impressum</a></li>
							</ul>
		</div>
		</div>
		<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});
} );</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=de&amp;modules=mediawiki.skinning.content.externallinks&amp;only=styles&amp;skin=monobook.css" />
<script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);
} );</script><script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":173});
} );</script></body></html>
